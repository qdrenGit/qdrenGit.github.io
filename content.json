{"pages":[{"title":"about","text":"tags: test","link":"/about/index.html"},{"title":"test03","text":"asd asd adsa s æµ‹è¯•æµ‹ä¸Š","link":"/about/tset.html"}],"posts":[{"title":"Macæ–°å»ºæ–‡ä»¶æƒé™","text":"ğŸ’»Mac æ–°å»ºæ–‡ä»¶å’Œæ–‡ä»¶å¤¹é»˜è®¤ å½“å‰ç”¨æˆ·æ‰æœ‰è¯»å’Œå†™çš„æƒé™ï¼Œå…¶ä»–ç”¨æˆ·åªæœ‰è¯»çš„æƒé™ å³ä½¿æˆæƒ777ä¹‹å,æ–°å»ºæ–‡ä»¶å¤¹å,é»˜è®¤ä»æ˜¯åªè¯»çŠ¶æ€æ—¶ ä¿®æ”¹Macæ–°å»ºæ–‡ä»¶ã€æ–‡ä»¶å¤¹çš„é»˜è®¤æƒé™çš„æ­¥éª¤å¦‚ä¸‹ï¼š æ‰“å¼€ ç»ˆç«¯ ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤: 1sudo launchctl config user umask 002 åˆ›å»ºæ–‡ä»¶æ—¶ï¼Œä»é»˜è®¤å€¼ï¼ˆå¯¹äºæ–‡ä»¶ï¼Œé€šå¸¸ä¸º 666ï¼Œå¯¹äºæ–‡ä»¶å¤¹ï¼Œé€šå¸¸ä¸º 777ï¼‰ä¸­å‡å»æ©ç å€¼æ¥ç¡®å®šæ–°çš„æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹çš„æƒé™ã€‚ 666-002=664 = -rw-rw-r-- è¯»å†™-è¯»å†™-è¯» æ–‡ä»¶é»˜è®¤æƒé™666 ç›®å½•é»˜è®¤æƒé™777 ã€‚ å®é™…æƒé™åˆ™å‡å»umaskã€‚ ä»¥ä¸Š","link":"/posts/675a9f77.html"},{"title":"SpringBooté›†æˆExcelå¯¼å…¥å¯¼å‡º","text":"SpringBoot é›†æˆExcelå¯¼å…¥å¯¼å‡ºå› ä¸ºä¹‹åä¼šä½¿ç”¨åˆ°æ³¨è§£å¯¹å®ä½“ç±»è¿›è¡Œåˆ¤æ–­,æ‰€ä»¥å¯¼å…¥validation 1. é¦–å…ˆå¯¼å…¥ä¾èµ– 123456789101112&lt;!-- excelä¾èµ– --&gt;&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;easyexcel&lt;/artifactId&gt; &lt;version&gt;2.2.4&lt;/version&gt;&lt;/dependency&gt;&lt;!-- éªŒè¯ä¾èµ– --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;&lt;/dependency&gt; 2.å®ä½“ç±»1234567891011121314151617181920212223@Data@NoArgsConstructor@AllArgsConstructorpublic class UserExcelModel extends BaseRowModel implements Serializable { /* * é€šè¿‡validationçš„æ³¨è§£,å¯¹å‚æ•°è¿›è¡Œåˆ¤æ–­ * */ @NotBlank(message = &quot;æ‰‹æœºå·ä¸èƒ½ä¸ºç©º&quot;) @Size(max = 4) @ExcelProperty(value = &quot;ç”¨æˆ·å&quot;, index = 0) private String name; @ExcelProperty(value = &quot;å¹´é¾„&quot;, index = 1) private Integer age; @Pattern(regexp = &quot;^[1][3,4,5,7,8][0-9]{9}$$&quot;, message = &quot;æ‰‹æœºå·ä¸åˆæ³•&quot;) @NotBlank(message = &quot;æ‰‹æœºå·ä¸èƒ½ä¸ºç©º&quot;) @ExcelProperty(value = &quot;æ‰‹æœºå·&quot;, index = 2) private String mobile; @ExcelProperty(value = &quot;æ€§åˆ«&quot;, index = 3) private String sex;} 3. éªŒè¯utils1234567891011121314/** éªŒè¯utils* */public class ValidationUtils { public static Validator getValidator(){ return validator; } static Validator validator; static{ ValidatorFactory validatorFactory = Validation.buildDefaultValidatorFactory(); validator=validatorFactory.getValidator(); }} 4.Vo12345678910/*æ— è®ºä»excelåˆ—è¡¨ä¸­å¯¼å…¥æˆè´¥ä¸å¦ éƒ½éœ€è¦è¿›è¡Œå­˜å‚¨ * */@Datapublic class UserExcelVo { //å¯¼å…¥æˆåŠŸåˆ—è¡¨ private List&lt;UserExcelModel&gt; success; //å¯¼å…¥å¤±è´¥åˆ—è¡¨ private List&lt;UserExcelModel&gt; fail;} 5.Controller123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198/** excelè¡¨æ ¼å¯¼å…¥å¯¼å‡ºï¼Œæ¡ä»¶åˆ¤æ–­ç¤ºä¾‹* */@RestController@RequestMapping(&quot;/user&quot;)public class UserController { /** * ä¸‹è½½Excelæ¨¡æ¿ */ @GetMapping(&quot;/downloadTemplate&quot;) public void downloadTemplate(HttpServletResponse response) throws Exception { //è·å–ç±»è·¯å¾„èµ„æº --resourcesç›®å½•ä¸‹ ClassPathResource classPathResource = new ClassPathResource(&quot;excelTemplate/easyexcel.xlsx&quot;); //è·å–è¾“å…¥æµ InputStream inputStream = classPathResource.getInputStream(); //å½“æ–‡ä»¶åç¼€åä¸ºxlsæ—¶ ä½¿ç”¨HSSF //Workbook workbook = new HSSFWorkbook(inputStream); //å½“æ–‡ä»¶åç¼€åä¸ºxlsxæ—¶ ä½¿ç”¨XSSF XSSFWorkbook sheets = new XSSFWorkbook(inputStream); //è®¾ç½®å†…å®¹ç±»å‹ response.setContentType(&quot;application/vnd.ms-excel&quot;); //è®¾ç½®è¯·æ±‚å¤´ response.setHeader(&quot;content-Disposition&quot;, &quot;attachment;filename=&quot; + URLEncoder.encode(&quot;easyexcel.xlsx&quot;, &quot;utf-8&quot;)); response.setHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;content-Disposition&quot;); //è·å¾—è¾“å‡ºæµ OutputStream outputStream = response.getOutputStream(); //å†™å…¥å“åº”æµ sheets.write(outputStream); outputStream.flush(); outputStream.close(); } /** * å¯¼å‡ºæ•°æ® */ @GetMapping(&quot;/exportData&quot;) public void exportData(HttpServletResponse response) throws Exception { XSSFWorkbook workbook = new XSSFWorkbook(); //åˆ—å String []columnNames = {&quot;ç”¨æˆ·å&quot;,&quot;å¹´é¾„&quot;,&quot;æ‰‹æœºå·&quot;,&quot;æ€§åˆ«&quot;}; //åˆ›å»ºå·¥ä½œè¡¨ Sheet sheet = workbook.createSheet(); //åˆ›å»ºå­—ä½“ Font titleFont = workbook.createFont(); //è®¾ç½®å­—ä½“åç§° titleFont.setFontName(&quot;simsun&quot;); //æ˜¯å¦åŠ ç²— titleFont.setBold(true); //é€‰æ‹©é¢œè‰² titleFont.setColor(IndexedColors.BLACK.index); //åˆ›å»ºå•å…ƒæ ·å¼ XSSFCellStyle titleStyle = workbook.createCellStyle(); //è®¾ç½®å¯¹é½ titleStyle.setAlignment(HorizontalAlignment.CENTER); //è®¾ç½®å‚ç›´å¯¹é½ titleStyle.setVerticalAlignment(VerticalAlignment.CENTER); //è®¾ç½®å¡«å……å›¾æ¡ˆ titleStyle.setFillPattern(FillPatternType.SOLID_FOREGROUND); //è®¾ç½®å¡«å……å‰æ™¯è‰² titleStyle.setFillForegroundColor(IndexedColors.YELLOW.index); //è®¾ç½®å­—ä½“ titleStyle.setFont(titleFont); //è®¾ç½®è¡Œ Row titleRow = sheet.createRow(0); for (int i = 0; i &lt; columnNames.length; i++) { //æ ¹æ®åˆ—ååˆ›å»ºå•å…ƒ Cell cell = titleRow.createCell(i); //è®¾ç½®å•å…ƒæ ¼å€¼ cell.setCellValue(columnNames[i]); //è®¾ç½®å•å…ƒæ ¼æ ·å¼ cell.setCellStyle(titleStyle); } //æ­¤å¤„å¯ä»¥ç¼–å†™sqlé€»è¾‘ //æ¨¡æ‹Ÿæ„é€ æ•°æ® List&lt;UserExcelModel&gt; dataList = new ArrayList&lt;&gt;(); dataList.add(new UserExcelModel(&quot;å¼ ä¸‰&quot;,12,&quot;13867098765&quot;,&quot;ç”·&quot;)); dataList.add(new UserExcelModel(&quot;å¼ ä¸‰1&quot;,12,&quot;13867098765&quot;,&quot;ç”·&quot;)); dataList.add(new UserExcelModel(&quot;å¼ ä¸‰2&quot;,12,&quot;13867098765&quot;,&quot;ç”·&quot;)); dataList.add(new UserExcelModel(&quot;å¼ ä¸‰3&quot;,12,&quot;13867098765&quot;,&quot;ç”·&quot;)); //åˆ›å»ºæ•°æ®è¡Œå¹¶å†™å…¥å€¼ for (int j = 0; j &lt; dataList.size(); j++) { //è·å–æ¨¡å‹ UserExcelModel userExcelModel = dataList.get(j); //è·å–æœ€åä¸€è¡Œ int lastRowNum = sheet.getLastRowNum(); //åˆ›å»ºè¡Œ Row dataRow = sheet.createRow(lastRowNum + 1); dataRow.createCell(0).setCellValue(userExcelModel.getName()); dataRow.createCell(1).setCellValue(userExcelModel.getAge()); dataRow.createCell(2).setCellValue(userExcelModel.getMobile()); dataRow.createCell(3).setCellValue(userExcelModel.getSex()); } //è®¾ç½®è¯·æ±‚å¤´ response.setContentType(&quot;application/vnd.ms-excel&quot;); response.setHeader(&quot;content-Disposition&quot;, &quot;attachment;filename=&quot; + URLEncoder.encode(&quot;easyexcel.xls&quot;, &quot;utf-8&quot;)); response.setHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;content-Disposition&quot;); //å“åº”æµ OutputStream outputStream = response.getOutputStream(); workbook.write(outputStream); outputStream.flush(); outputStream.close(); } /* * å¯¼å…¥excelè¡¨æ ¼ ç»“åˆpostMan,postè¯·æ±‚å¯¼å…¥ * */ @PostMapping(&quot;/readExcel&quot;) public List&lt;UserExcelModel&gt; readExcel(@RequestParam(&quot;file&quot;) MultipartFile file){ List&lt;UserExcelModel&gt; list = new ArrayList&lt;&gt;(); try { list = EasyExcel.read(file.getInputStream(),UserExcelModel.class,new ModelExcelListener()).sheet().doReadSync(); } catch (IOException e) { e.printStackTrace(); } return list; } /* * å¯¼å…¥excelè¡¨æ ¼ 1.0 ï¼ˆæ ¹æ®å­—æ®µè¿›è¡Œæ ¡éªŒï¼Œå¤šå­—æ®µä¸æ¨èï¼‰ * */ @PostMapping(&quot;/importExcel&quot;) public UserExcelVo importExcel(@RequestParam(&quot;file&quot;) MultipartFile file){ List&lt;UserExcelModel&gt; list = null; //å¤±è´¥åˆ—è¡¨ï¼ˆæ’é™¤ä½¿ç”¨ï¼‰ List&lt;UserExcelModel&gt; fail = new ArrayList&lt;&gt;(); UserExcelVo userExcelVO = new UserExcelVo(); //åˆ¤æ–­æ‰‹æœºæ­£åˆ™ String mobieReg = &quot;^[1][3,4,5,7,8][0-9]{9}$$&quot;; try { //è¯»å–åˆ°excelä¸­çš„æ•°æ® list = EasyExcel.read(file.getInputStream(),UserExcelModel.class,new ModelExcelListener()).sheet().doReadSync(); //è¿›è¡Œå¾ªç¯ list.forEach(data-&gt;{ //å¤„ç†å§“åçš„æ ¡éªŒ if(StringUtils.isEmpty(data.getName())||data.getName().length()&gt; 4 ){ fail.add(data); return; } //å¤„ç†æ‰‹æœºå·çš„æ ¡éªŒ if (StringUtils.isEmpty(data.getMobile())|| !data.getMobile().matches(mobieReg)) { fail.add(data); return; } //ä»¥ä¸‹æ ¹æ®å­—æ®µå¤šå°‘å¯èƒ½æœ‰nä¸ªif }); //å°†å¤±è´¥åˆ—è¡¨å­˜å…¥vo userExcelVO.setFail(fail); //listä¸­å°†å¤±è´¥åˆ—è¡¨æ’é™¤ list.removeAll(fail); //æ’é™¤ä¹‹åï¼Œå­˜å…¥æˆåŠŸåˆ—è¡¨ä¸­ userExcelVO.setSuccess(list); } catch (IOException e) { e.printStackTrace(); } return userExcelVO; } /* * å¯¼å…¥excelè¡¨æ ¼ 2.0 é€šè¿‡Validationè¿›è¡ŒéªŒè¯çœå»äº†IF ELSE çš„å†™æ³• * * * */ @PostMapping(&quot;/v2/importExcel&quot;) public UserExcelVo importExcelV2(@RequestParam(&quot;file&quot;) MultipartFile file){ List&lt;UserExcelModel&gt; list = null; //å¤±è´¥åˆ—è¡¨ List&lt;UserExcelModel&gt; fail = new ArrayList&lt;&gt;(); //VO UserExcelVo userExcelVO = new UserExcelVo(); try { //ä»excelä¸­è¯»å–å‚æ•° list = EasyExcel.read(file.getInputStream(),UserExcelModel.class,new ModelExcelListener()).sheet().doReadSync(); //å‚æ•°è¿›è¡Œå¾ªç¯ list.forEach(data-&gt;{ //é€šè¿‡Validatorè·å–åˆ°æ‰€æœ‰é”™è¯¯ Set&lt;ConstraintViolation&lt;UserExcelModel&gt;&gt; violations = ValidationUtils.getValidator().validate(data); //åªè¦éªŒè¯é›†åˆviolationsï¼ˆåŒ…å«é”™è¯¯çš„é›†åˆï¼‰æœ‰å€¼æ—¶ï¼Œå°±æ·»åŠ ã€‚ if(violations.size()&gt;0){ fail.add(data); } }); //è¿›è¡Œç­›é€‰æ’é™¤ userExcelVO.setFail(fail); list.removeAll(fail); userExcelVO.setSuccess(list); } catch (IOException e) { e.printStackTrace(); } return userExcelVO; }}","link":"/posts/4482f1c9.html"},{"title":"SpringBooté›†æˆMybatisPlus","text":"SpringBooté›†æˆmyBatisPlusé¦–å…ˆéœ€è¦å¯¼å…¥åœ¨POM.xml æ–‡ä»¶ä¸­å¯¼å…¥ä¾èµ– 1. å¯¼å…¥ä¾èµ– 1234567891011121314151617181920212223242526272829303132333435&lt;!-- mybatis plus --&gt;&lt;dependency&gt; &lt;groupId&gt;com.baomidou&lt;/groupId&gt; &lt;artifactId&gt;mybatis-plus-boot-starter&lt;/artifactId&gt; &lt;version&gt;3.0.5&lt;/version&gt;&lt;/dependency&gt;&lt;!--æ•°æ®åº“é©±åŠ¨--&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;scope&gt;runtime&lt;/scope&gt;&lt;/dependency&gt;&lt;!-- ä»£ç ç”Ÿæˆ--&gt;&lt;dependency&gt; &lt;groupId&gt;com.baomidou&lt;/groupId&gt; &lt;artifactId&gt;mybatis-plus-generator&lt;/artifactId&gt; &lt;version&gt;3.4.1&lt;/version&gt;&lt;/dependency&gt;&lt;!--é»˜è®¤æ¨¡æ¿å¼•æ“ å¯è‡ªå®šä¹‰--&gt;&lt;dependency&gt; &lt;groupId&gt;org.apache.velocity&lt;/groupId&gt; &lt;artifactId&gt;velocity-engine-core&lt;/artifactId&gt; &lt;version&gt;2.1&lt;/version&gt;&lt;/dependency&gt;&lt;!-- web--&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&lt;/dependency&gt;&lt;!--lombok--&gt;&lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt;&lt;/dependency&gt; 2. StudentController1234567891011121314151617181920212223242526272829303132@RestController@RequestMapping(&quot;/glp/student&quot;)public class StudentController { @Autowired private StudentService studentService; @RequestMapping(&quot;/findAll&quot;) public List&lt;Student&gt; findAll(){ //å‚æ•°ä¸€currentï¼šå½“å‰é¡µ å‚æ•°äºŒsizeï¼šé¡µé¢å¤§å° Page&lt;Student&gt; page = new Page&lt;&gt;(1,2); studentService.page(page,null); List&lt;Student&gt; records = page.getRecords(); return records; } /* * æ‰¹é‡æ’å…¥ * */ @RequestMapping(&quot;/saveList&quot;) public boolean saveAll(){ List&lt;Student&gt; studentList = new ArrayList&lt;&gt;(); Student student = new Student(); student.setName(&quot;èµµå››&quot;); studentList.add(student); return studentService.saveBatch(studentList); } /* * æ›´å¤šç¤ºä¾‹ * https://www.cnblogs.com/l-y-h/p/12859477.html * */} 3. StudentServiceMybatisPlusä¸­åŸºç¡€çš„CRUDå·²ç»æ„å»ºå®Œæ¯•,ç›´æ¥ä½¿ç”¨å³å¯ 123public interface StudentService extends IService&lt;Student&gt; {} 4.StudentServiceImpl1234@Servicepublic class StudentServiceImpl extends ServiceImpl&lt;StudentMapper, Student&gt; implements StudentService {} 5.StudentMapper1234public interface StudentMapper extends BaseMapper&lt;Student&gt; {} 6.Mapper123456&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;mapper namespace=&quot;com.qdren.glp.mapper.StudentMapper&quot;&gt;&lt;/mapper&gt; 7.å¯åŠ¨ç±»1234567891011@SpringBootApplication//mapperæ‰«æçš„è·¯å¾„@MapperScan(&quot;com.qdren.glp.mapper&quot;) public class DemoApplication { public static void main(String[] args) { SpringApplication.run(DemoApplication.class, args); }} æœ€åä¸ºäº†ä½¿ç”¨Druidè¿æ¥æ± ï¼Œéœ€è¦åœ¨application.ymlä¸‹é…ç½®ï¼š 1234567891011# åº”ç”¨åç§°spring.application.name=demo# åº”ç”¨æœåŠ¡ WEB è®¿é—®ç«¯å£server.port=8881#æ•°æ®åº“è¿æ¥é…ç½®spring.datasource.username=rootspring.datasource.password=111111#mysql5~8 é©±åŠ¨ä¸åŒdriver-class-name 8éœ€è¦å¢åŠ æ—¶åŒºçš„é…ç½®serverTimezone=UTC#useSSL=false å®‰å…¨è¿æ¥ # é¦–å…ˆæ˜¯ç«¯å£ /æ•°æ®åº“è¡¨å / æ—¶åŒºè®¾ç½® / å­—ç¬¦ç¼–ç spring.datasource.url=jdbc:mysql://localhost:3306/test?serverTimezone=UTC&amp;useUnicode=true&amp;characterEncoding=utf-8spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver","link":"/posts/3c0a9a43.html"},{"title":"SpringBooté›†æˆLogbackæ—¥å¿—","text":"SpringBoot é›†æˆLogbackæ—¥å¿—é¦–å…ˆåŒæ ·æ·»åŠ æ—¥å¿—ä¾èµ– 1.å¼•å…¥ä¾èµ–12345&lt;!--logback--&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;&lt;/dependency&gt; 2. æ—¥å¿—çº§åˆ«è¯´æ˜æ—¥å¿—çº§åˆ«ä»ä½åˆ°é«˜åˆ†ä¸ºTRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATALï¼Œå¦‚æœè®¾ç½®ä¸ºWARNï¼Œåˆ™ä½äºWARNçš„ä¿¡æ¯éƒ½ä¸ä¼šè¾“å‡ºã€‚ Spring Bootä¸­é»˜è®¤é…ç½®ERRORã€WARNå’ŒINFOçº§åˆ«çš„æ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚æ‚¨è¿˜å¯ä»¥é€šè¿‡å¯åŠ¨æ‚¨çš„åº”ç”¨ç¨‹åºâ€“debugæ ‡å¿—æ¥å¯ç”¨â€œè°ƒè¯•â€æ¨¡å¼ï¼ˆå¼€å‘çš„æ—¶å€™æ¨èå¼€å¯ï¼‰,ä»¥ä¸‹ä¸¤ç§æ–¹å¼çš†å¯ï¼š åœ¨è¿è¡Œå‘½ä»¤ååŠ å…¥â€“debugæ ‡å¿—ï¼Œå¦‚ï¼š$ java -jar springTest.jar --debugã€‚ åœ¨application.propertiesä¸­é…ç½®debug=trueï¼Œè¯¥å±æ€§ç½®ä¸ºtrueçš„æ—¶å€™ï¼Œæ ¸å¿ƒLoggerï¼ˆåŒ…å«åµŒå…¥å¼å®¹å™¨ã€hibernateã€springï¼‰ä¼šè¾“å‡ºæ›´å¤šå†…å®¹ï¼Œä½†æ˜¯ä½ è‡ªå·±åº”ç”¨çš„æ—¥å¿—å¹¶ä¸ä¼šè¾“å‡ºä¸ºDEBUGçº§åˆ«ã€‚ 3.æ–‡ä»¶è¾“å‡ºé»˜è®¤æƒ…å†µä¸‹ï¼ŒSpring Bootå°†æ—¥å¿—è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œä¸ä¼šå†™åˆ°æ—¥å¿—æ–‡ä»¶ã€‚å¦‚æœè¦ç¼–å†™é™¤æ§åˆ¶å°è¾“å‡ºä¹‹å¤–çš„æ—¥å¿—æ–‡ä»¶ï¼Œåˆ™éœ€åœ¨application.propertiesä¸­è®¾ç½®logging.fileæˆ–logging.pathå±æ€§ã€‚ logging.fileï¼Œè®¾ç½®æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ã€‚å¦‚ï¼šlogging.file=my.logã€‚ logging.pathï¼Œè®¾ç½®ç›®å½•ï¼Œä¼šåœ¨è¯¥ç›®å½•ä¸‹åˆ›å»ºspring.logæ–‡ä»¶ï¼Œå¹¶å†™å…¥æ—¥å¿—å†…å®¹ï¼Œå¦‚ï¼šlogging.path=/var/logã€‚ å¦‚æœåªé…ç½® logging.fileï¼Œä¼šåœ¨é¡¹ç›®çš„å½“å‰è·¯å¾„ä¸‹ç”Ÿæˆä¸€ä¸ª xxx.log æ—¥å¿—æ–‡ä»¶ã€‚ å¦‚æœåªé…ç½® logging.pathï¼Œåœ¨ /var/logæ–‡ä»¶å¤¹ç”Ÿæˆä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ä¸º spring.logã€‚ å¦‚ä»¥ä¸‹ä»£ç ç‰‡æ®µ: 12345678910111213141516 &lt;/appender&gt; &lt;!--è¯¥é…ç½®ä¸ºlogging.File,è¾“å‡ºåˆ°æ–‡ä»¶(é»˜è®¤è¾“å‡ºåˆ°é¡¹ç›®ç›®å½•ä¸‹)--&gt; &lt;appender name=&quot;file&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt; &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;&lt;!-- å®šä¹‰äº†æ—¥å¿—çš„åˆ‡åˆ†æ–¹å¼â€”â€”æŠŠæ¯ä¸€å¤©çš„æ—¥å¿—å½’æ¡£åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œ--&gt; &lt;fileNamePattern&gt;./logs/qdren.%d{yyyy-MM-dd}.log&lt;/fileNamePattern&gt;&lt;!-- æœ€å¤šå­˜å‚¨å¤šå°‘å¤©--&gt; &lt;maxHistory&gt;30&lt;/maxHistory&gt;&lt;!-- æœ€å¤§å‚¨å­˜çš„å®¹é‡ --&gt; &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt; &lt;/rollingPolicy&gt;&lt;!-- æ—¥å¿—çš„å†™å…¥æ ¼å¼ æ—¶é—´ åç§° çº¿ç¨‹ æ—¥å¿—ç­‰çº§ç­‰ --&gt; &lt;encoder&gt; &lt;pattern&gt;%d{HH:mm:ss.SSS} %contextName [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; 4.è‡ªå®šä¹‰æ—¥å¿— åœ¨resourcesç›®å½•ä¸‹åˆ›å»ºåç§°ä¸ºlogback-spring.xmlæ–‡ä»¶ å…¨éƒ¨å†…å®¹å¦‚ä¸‹: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!--scan:å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œé…ç½®æ–‡ä»¶å¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œå°†ä¼šè¢«é‡æ–°åŠ è½½ï¼Œé»˜è®¤å€¼ä¸ºtrueã€‚scanPeriod:è®¾ç½®ç›‘æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰ä¿®æ”¹çš„æ—¶é—´é—´éš”ï¼Œå¦‚æœæ²¡æœ‰ç»™å‡ºæ—¶é—´å•ä½ï¼Œé»˜è®¤å•ä½æ˜¯æ¯«ç§’ã€‚å½“scanä¸ºtrueæ—¶ï¼Œæ­¤å±æ€§ç”Ÿæ•ˆã€‚é»˜è®¤çš„æ—¶é—´é—´éš”ä¸º1åˆ†é’Ÿã€‚debug:å½“æ­¤å±æ€§è®¾ç½®ä¸ºtrueæ—¶ï¼Œå°†æ‰“å°å‡ºlogbackå†…éƒ¨æ—¥å¿—ä¿¡æ¯ï¼Œå®æ—¶æŸ¥çœ‹logbackè¿è¡ŒçŠ¶æ€ã€‚é»˜è®¤å€¼ä¸ºfalseã€‚--&gt;&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;60 seconds&quot; debug=&quot;false&quot;&gt; &lt;!--è®¾ç½®ä¸Šä¸‹æ–‡åç§°--&gt; &lt;contextName&gt;logback&lt;/contextName&gt; &lt;!--è¾“å‡ºåˆ°æ§åˆ¶å°--&gt; &lt;!-- appenderç”¨æ¥æ ¼å¼åŒ–æ—¥å¿—è¾“å‡ºèŠ‚ç‚¹ï¼Œæœ‰ä¿©ä¸ªå±æ€§nameå’Œclassã€‚classç”¨æ¥æŒ‡å®šå“ªç§è¾“å‡ºç­–ç•¥ï¼Œ å¸¸ç”¨å°±æ˜¯æ§åˆ¶å°è¾“å‡ºç­–ç•¥å’Œæ–‡ä»¶è¾“å‡ºç­–ç•¥ã€‚ è¿™ä¸ªæ˜¯è¾“å‡ºåˆ°æ§åˆ¶å°--&gt; &lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; &lt;!--&lt;encoder&gt;è¡¨ç¤ºå¯¹æ—¥å¿—è¿›è¡Œç¼–ç ï¼š--&gt; &lt;encoder&gt; &lt;pattern&gt;%d{HH:mm:ss.SSS} %contextName [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;!--ThresholdFilterä¸ºç³»ç»Ÿå®šä¹‰çš„æ‹¦æˆªå™¨ï¼Œä¾‹å¦‚æˆ‘ä»¬ç”¨ThresholdFilteræ¥è¿‡æ»¤æ‰ERRORçº§åˆ«ä»¥ä¸‹çš„æ—¥å¿—ä¸è¾“å‡ºåˆ°æ–‡ä»¶ä¸­ã€‚ å¦‚æœä¸ç”¨è®°å¾—æ³¨é‡Šæ‰ï¼Œä¸ç„¶ä½ æ§åˆ¶å°ä¼šå‘ç°æ²¡æ—¥å¿—~--&gt;&lt;!-- &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;--&gt;&lt;!-- &lt;level&gt;info&lt;/level&gt;--&gt;&lt;!-- &lt;/filter&gt;--&gt; &lt;/appender&gt; &lt;!--è¿™ä¸ªæ˜¯è¾“å‡ºåˆ°æ–‡ä»¶(é»˜è®¤è¾“å‡ºåˆ°é¡¹ç›®ç›®å½•ä¸‹)--&gt; &lt;appender name=&quot;file&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt; &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;&lt;!-- å®šä¹‰äº†æ—¥å¿—çš„åˆ‡åˆ†æ–¹å¼â€”â€”æŠŠæ¯ä¸€å¤©çš„æ—¥å¿—å½’æ¡£åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œ--&gt; &lt;fileNamePattern&gt;./logs/qdren.%d{yyyy-MM-dd}.log&lt;/fileNamePattern&gt;&lt;!-- æœ€å¤šå­˜30å¤©--&gt; &lt;maxHistory&gt;30&lt;/maxHistory&gt;&lt;!-- æœ€å¤§1GB--&gt; &lt;totalSizeCap&gt;1GB&lt;/totalSizeCap&gt; &lt;/rollingPolicy&gt;&lt;!-- æ—¥å¿—æ ¼å¼--&gt; &lt;encoder&gt; &lt;pattern&gt;%d{HH:mm:ss.SSS} %contextName [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt;&lt;!-- ç”¨æ¥æŒ‡å®šæœ€åŸºç¡€çš„æ—¥å¿—è¾“å‡ºçº§åˆ«ï¼Œåªæœ‰ä¸€ä¸ªlevelå±æ€§ã€‚--&gt; &lt;root level=&quot;info&quot;&gt; &lt;!-- ä¸¤ä¸ªä¸åŒçš„appenderéƒ½ä½¿ç”¨è¿™ä¸ªè¾“å‡ºçº§åˆ«--&gt; &lt;appender-ref ref=&quot;console&quot; /&gt; &lt;appender-ref ref=&quot;file&quot; /&gt; &lt;/root&gt;&lt;!-- ç”¨æ¥è®¾ç½®æŸä¸€ä¸ªåŒ…æˆ–è€…å…·ä½“çš„æŸä¸€ä¸ªç±»çš„æ—¥å¿—æ‰“å°çº§åˆ«ã€ä»¥åŠæŒ‡å®šappender additivityæ˜¯å¦å‘ä¸Šçº§loggerä¼ é€’æ‰“å°ä¿¡æ¯ã€‚é»˜è®¤æ˜¯trueã€‚å¦‚æ‰“å°sql,å°±éœ€è¦å°†Mapperä¸­çš„Level æ”¹ä¸ºDebug --&gt; &lt;logger name=&quot;com.qdren.mapper&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt; &lt;appender-ref ref=&quot;console&quot; /&gt; &lt;/logger&gt;&lt;/configuration&gt; 5. Contorller1234567891011121314@RestController@RequestMapping(&quot;/log&quot;)public class LogController { private Logger logger = LoggerFactory.getLogger(this.getClass()); @RequestMapping(value = &quot;/login&quot;) public void login(HttpServletRequest request, HttpServletResponse response) { //æ—¥å¿—çº§åˆ«ä»ä½åˆ°é«˜åˆ†ä¸ºTRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATALï¼Œå¦‚æœè®¾ç½®ä¸ºWARNï¼Œåˆ™ä½äºWARNçš„ä¿¡æ¯éƒ½ä¸ä¼šè¾“å‡ºã€‚ logger.trace(&quot;æ—¥å¿—è¾“å‡º trace&quot;); logger.debug(&quot;æ—¥å¿—è¾“å‡º debug&quot;); logger.info(&quot;æ—¥å¿—è¾“å‡º info&quot;); logger.warn(&quot;æ—¥å¿—è¾“å‡º warn&quot;); logger.error(&quot;æ—¥å¿—è¾“å‡º error&quot;); }} æ–‡ä»¶æ˜¯å¦è¾“å…¥æˆåŠŸ,åœ¨é¡¹ç›®ç›®å½•ä¸‹æŸ¥çœ‹","link":"/posts/2ca95f81.html"},{"title":"photo","text":"","link":"/posts/14b78418.html"}],"tags":[{"name":"Mac","slug":"Mac","link":"/tags/Mac/"},{"name":"Excel","slug":"Excel","link":"/tags/Excel/"},{"name":"SpringBoot","slug":"SpringBoot","link":"/tags/SpringBoot/"},{"name":"Java","slug":"Java","link":"/tags/Java/"},{"name":"Logback","slug":"Logback","link":"/tags/Logback/"}],"categories":[]}